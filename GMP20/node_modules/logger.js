var util = require('util');
var EventEmitter = require("events").EventEmitter;
//var _ = require('underscore');
var logs = new Array();

function Logger(){
	var self = this;
	var status = 'preloaded';
};

util.inherits(Logger, EventEmitter);

Logger.prototype.init = function(){
	this.status = 'live';
}

Logger.prototype.render = function(){
	var ret = logs.join('\r\n') + '\r\n';
	logs = new Array();
	console.log(ret);
	return ret;
}

Logger.prototype.log = function(){
	var args = Array.prototype.slice.call(arguments);
	logs.push( args.join(" ") );
	if( this.status == 'live' ){ this.emit('update'); }
}

module.exports = new Logger();